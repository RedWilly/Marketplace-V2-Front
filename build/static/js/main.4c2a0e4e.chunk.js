(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{122:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},156:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)}))}}).call(this,n(98))},199:function(e,t){},207:function(e,t){},214:function(e,t,n){"use strict";n.r(t);var a=n(91),i=n(0),s=n(48),r=n.n(s),c=n(28),o=n(65),l=n(101),d=n(15),p=n(69),u=n(11),y=n(137),b=n(138),m=n(135),j=n(143);var h={Nuggets:"0xdcb5bE2582A7B10ECF07B5A56c1bED524B7d90d0","Blast Riders":"0x85668115c044e57a1d57e05eb2e2ec9983c0a566",Ape:"0x6a7a53fa2c37a86be698f5c905aca5f114348dbe",zkOkayDog:"0xf1b2fe759e3cccf89e16497d5b3f8a9db6cfba76","Blast Knives":"0xf6c766e43c69a25f4e225a4f7e606f9fdb1d94a0"},O=n(231);const f="https://rooni.site";var x,g,T,v,w,k,A,I,C,S,F,E,M,L,B=class{constructor(e,t,n){this.chain=e,this.collection=t,this.id=n}async metadata(){const e=await O.a.get("".concat(f,"/metadata/").concat(this.chain,"/").concat(this.collection,"/").concat(this.id));if(200!==e.status||!e.data)throw new Error("Failed to fetch metadata from middleware");return e.data}image(){return"".concat(f,"/image/").concat(this.chain,"/").concat(this.collection,"/").concat(this.id)}async owner(){const e=await O.a.get("".concat(f,"/owner/").concat(this.chain,"/").concat(this.collection,"/").concat(this.id));if(200!==e.status||!e.data)throw new Error("Failed to fetch metadata from middleware");return e.data.owner}},N=n(235),_=n(32),D=n(233);Object(D.a)(x||(x=Object(_.a)(['\n  query GetAllListedNFTs {\n    listings(where: {status: "Active"}) {\n      id\n      erc721Address\n      tokenId\n      seller\n      price\n      expireTimestamp\n      status\n    }\n  }\n'])));const R=Object(D.a)(g||(g=Object(_.a)(['\n  query GetListingsForNFTAddress($erc721Address: Bytes!) {\n    listings(where: {erc721Address: $erc721Address, status: "Active"}) {\n      id\n      tokenId\n      seller\n      price\n      expireTimestamp\n      status\n    }\n  }\n']))),P=Object(D.a)(T||(T=Object(_.a)(['\n  query GetActiveListingByNFT($erc721Address: Bytes!, $tokenId: BigInt!) {\n    listings(where: {erc721Address: $erc721Address, tokenId: $tokenId, status: "Active"}) {\n      id\n      erc721Address\n      tokenId\n      seller\n      price\n      expireTimestamp\n      status\n    }\n  }\n']))),W=Object(D.a)(v||(v=Object(_.a)(['\n  query GetListedNFTsForAddress($seller: Bytes!) {\n    listings(where: {seller: $seller, status: "Active"}) {\n      id\n      erc721Address\n      tokenId\n      seller\n      price\n      expireTimestamp\n      status\n    }\n  }\n']))),z=Object(D.a)(w||(w=Object(_.a)(["\n  query GetBidsByAddress($bidder: Bytes!) {\n    bids(where: {bidder: $bidder}) {\n      id\n      erc721Address\n      tokenId\n      bidder\n      value\n      expireTimestamp\n      status\n    }\n  }\n"]))),$=(Object(D.a)(k||(k=Object(_.a)(['\n  query GetAllActiveBids {\n    bids(where: {status: "Active"}) {\n      id\n      erc721Address\n      tokenId\n      bidder\n      value\n      expireTimestamp\n      status\n    }\n  }\n']))),Object(D.a)(A||(A=Object(_.a)(['\n  query GetActiveBidsForNFT($erc721Address: String!, $tokenId: String!) {\n    bids(where: {\n      erc721Address: $erc721Address, \n      tokenId: $tokenId, \n      status: "Active"\n    }) {\n      id\n      erc721Address\n      tokenId\n      bidder\n      value\n      expireTimestamp\n      status\n    }\n  }\n'])))),H=Object(D.a)(I||(I=Object(_.a)(["\n  query GetAllSoldForNFT($erc721Address: String!, $tokenId: String!) {\n    sales(where: {\n      erc721Address: $erc721Address,\n      tokenId: $tokenId\n    }) {\n      id\n      buyer\n      seller\n      price\n      timestamp\n      tokenId\n      erc721Address\n      status\n    }\n  }\n"]))),V=(Object(D.a)(C||(C=Object(_.a)(['\n  query GetAllSoldNFTsRanked {\n    sales(where: {status: "Sold"}, orderBy: timestamp, orderDirection: desc) {\n      id\n      erc721Address\n      tokenId\n      buyer\n      seller\n      price\n      timestamp\n    }\n  }\n']))),Object(D.a)(S||(S=Object(_.a)(["\n  query GetCollectionStats($id: ID!) {\n    collectionStats(where: {id: $id}) {\n      id\n      floorPrice\n      totalVolumeTraded\n      totalVolumeTradedWETH\n    }\n  }\n"])))),Y=Object(D.a)(F||(F=Object(_.a)(["\n  query GetAllNFTsOwnedByUser($owner: Bytes!) {\n    erc721S(where: {owner: $owner}) {\n      address\n      tokenId\n      owner\n    }\n  }\n"]))),K=Object(D.a)(E||(E=Object(_.a)(["\nquery GetCollectionName($id: ID!) {\n  collection(id: $id) {\n    id\n    name\n  }\n}\n"]))),q=Object(D.a)(M||(M=Object(_.a)(["\n  query GetMostRecentListing {\n    listings(orderBy: listedTimestamp, orderDirection: desc) {\n      id\n      erc721Address\n      tokenId\n      seller\n      price\n      expireTimestamp\n      listedTimestamp\n      status\n    }\n  }\n"]))),G=Object(D.a)(L||(L=Object(_.a)(["\n  query GetMostRecentSold {\n    sales(orderBy: timestamp, orderDirection: desc) {\n      id\n      erc721Address\n      tokenId\n      buyer\n      seller\n      price\n      serviceFee\n      royaltyFee\n      timestamp\n      status\n      txid\n    }\n  }\n"])));var U=n(27),J=n(39),Q=n(4);var Z,X=e=>{let{erc721Address:t,tokenId:n,price:a}=e;const{account:i,library:s}=Object(U.a)();return Object(Q.jsx)(m.a,{colorScheme:"teal",onClick:async()=>{if(!i||!s)return void alert("Please connect your wallet first.");const e=s.getSigner(i),r=new d.a.Contract("0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4",J,e);try{const e=await r.buyToken(t,n,{value:a});await e.wait(),alert("Bought successful!")}catch(c){console.error("Transaction failed:",c),alert("Transaction failed. See console for details.")}},children:"Buy Now"})};function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ee.apply(this,arguments)}function te(e,t){let{title:n,titleId:a,...s}=e;return i.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":a},s),n?i.createElement("title",{id:a},n):null,Z||(Z=i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})))}const ne=i.forwardRef(te);var ae;n.p;function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ie.apply(this,arguments)}function se(e,t){let{title:n,titleId:a,...s}=e;return i.createElement("svg",ie({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":a},s),n?i.createElement("title",{id:a},n):null,ae||(ae=i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})))}const re=i.forwardRef(se);var ce;n.p;function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},oe.apply(this,arguments)}function le(e,t){let{title:n,titleId:a,...s}=e;return i.createElement("svg",oe({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",ref:t,"aria-labelledby":a},s),n?i.createElement("title",{id:a},n):null,ce||(ce=i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})))}const de=i.forwardRef(le);n.p;var pe=n.p+"static/media/background.6a523ea7.png";var ue=()=>Object(Q.jsx)(y.a,{bgImage:"url(".concat(pe,")"),bgPosition:"center",bgRepeat:"no-repeat",bgSize:"cover",color:"white",height:"lg",children:Object(Q.jsxs)(y.b,{direction:"column",justify:"center",align:"center",height:"100%",bg:"rgba(0, 0, 0, 0.5)",paddingY:"8",children:[Object(Q.jsx)(y.e,{as:"h1",size:"2xl",textAlign:"center",mb:"4",children:"AN NFT MARKETPLACE FOR COLLECTORS"}),Object(Q.jsx)(y.h,{fontSize:"xl",textAlign:"center",mb:"8",children:"SEARCH YOUR FAVORITE NFT COLLECTIONS"}),Object(Q.jsxs)(y.g,{direction:"row",spacing:"10",align:"center",justify:"center",children:[Object(Q.jsxs)(y.b,{align:"center",children:[Object(Q.jsx)(ne,{style:{marginRight:"8px"}}),Object(Q.jsx)(y.h,{children:"FULL ROYALTIES HONORED"})]}),Object(Q.jsxs)(y.b,{align:"center",children:[Object(Q.jsx)(de,{style:{marginRight:"8px"}})," ",Object(Q.jsx)(y.h,{children:"For ALL COLLECTIONS"})]}),Object(Q.jsxs)(y.b,{align:"center",children:[Object(Q.jsx)(re,{style:{marginRight:"8px"}}),Object(Q.jsx)(y.h,{children:"NO FEES FROM COLLECTLE"})]})]})]})});const ye={Nuggets:n.p+"static/media/nuggets.b9161f81.png","Blast Riders":n.p+"static/media/blast_riders.1e79bd7e.png",Ape:n.p+"static/media/ape.204018ed.png",zkOkayDog:n.p+"static/media/zkokaydog.f839cd31.png","Blast Knives":n.p+"static/media/blast_knives.10316af2.png"};var be=()=>{const e=Object(u.o)(),{data:t}=Object(N.a)(q),{data:n}=Object(N.a)(G),[a,s]=Object(i.useState)([]),[r,c]=Object(i.useState)([]);Object(i.useEffect)((()=>{if(t&&t.listings){(async()=>{const e=await Promise.all(t.listings.map((async e=>{const t=new B(168587773,e.erc721Address,e.tokenId),n=await t.metadata();return{...e,name:n.name,image:t.image(),displayPrice:d.a.utils.formatEther(e.price),price:e.price}})));s(e)})()}}),[t]),Object(i.useEffect)((()=>{if(n&&n.sales){(async()=>{const e=await Promise.all(n.sales.map((async e=>{const t=new B(168587773,e.erc721Address,e.tokenId),n=await t.metadata();return{...e,name:n.name,image:t.image(),price:d.a.utils.formatEther(e.price)}})));c(e)})()}}),[n]);const o=(t,n)=>{e("/collection/".concat(t,"/").concat(n))};return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(ue,{}),Object(Q.jsxs)(y.a,{p:5,children:[Object(Q.jsx)(y.c,{templateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:Object.entries(h).map(((t,n)=>{let[a,i]=t;const s=ye[a];return Object(Q.jsxs)(y.a,{p:5,shadow:"md",borderWidth:"1px",rounded:"lg",_hover:{shadow:"xl"},cursor:"pointer",onClick:()=>(t=>{e("/collection/".concat(t))})(i),children:[Object(Q.jsx)(b.a,{src:s,alt:a,boxSize:"150px",objectFit:"cover",m:"auto"}),Object(Q.jsx)(y.h,{mt:2,textAlign:"center",fontWeight:"bold",children:a})]},n)}))}),Object(Q.jsx)(y.a,{textAlign:"center",mt:5,children:Object(Q.jsx)(m.a,{colorScheme:"teal",onClick:()=>e("/Explorer"),children:"View All Collections"})}),Object(Q.jsxs)(y.a,{mt:10,children:[Object(Q.jsx)(y.e,{as:"h2",size:"lg",textAlign:"center",mb:4,children:"Realtime Activity"}),Object(Q.jsxs)(j.e,{isFitted:!0,variant:"enclosed",children:[Object(Q.jsxs)(j.b,{mb:"1em",children:[Object(Q.jsx)(j.a,{children:"New Listings"}),Object(Q.jsx)(j.a,{children:"Latest Sold"})]}),Object(Q.jsxs)(j.d,{children:[Object(Q.jsx)(j.c,{children:Object(Q.jsx)(y.c,{templateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:a.map(((e,t)=>Object(Q.jsxs)(y.a,{p:5,shadow:"md",borderWidth:"1px",rounded:"lg",cursor:"pointer",onClick:()=>o(e.erc721Address,e.tokenId),children:[Object(Q.jsx)(b.a,{src:e.image,alt:e.name,boxSize:"150px",objectFit:"cover",m:"auto"}),Object(Q.jsx)(y.h,{mt:2,textAlign:"center",fontWeight:"bold",children:e.name}),Object(Q.jsxs)(y.h,{mt:2,textAlign:"center",children:[e.displayPrice," ETH"]}),Object(Q.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Q.jsx)(X,{erc721Address:e.erc721Address,tokenId:e.tokenId,price:e.price})})]},t)))})}),Object(Q.jsx)(j.c,{children:Object(Q.jsx)(y.c,{templateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:r.map(((e,t)=>Object(Q.jsxs)(y.a,{p:5,shadow:"md",borderWidth:"1px",rounded:"lg",cursor:"pointer",onClick:()=>o(e.erc721Address,e.tokenId),children:[Object(Q.jsx)(b.a,{src:e.image,alt:e.name,boxSize:"150px",objectFit:"cover",m:"auto"}),Object(Q.jsx)(y.h,{mt:2,textAlign:"center",fontWeight:"bold",children:e.name}),Object(Q.jsxs)(y.h,{mt:2,textAlign:"center",children:[e.price," ETH"]}),Object(Q.jsx)(m.a,{colorScheme:"teal",onClick:t=>{t.stopPropagation(),o(e.erc721Address,e.tokenId)},children:"View Detail"})]},t)))})})]})]})]})]})]})},me=n(141),je=n(76),he=n(139),Oe=n(140),fe=n(83);var xe=e=>{let{isOpen:t,onClose:n,contractAddress:a,tokenId:s}=e;const[r,c]=Object(i.useState)(""),[o,l]=Object(i.useState)("24h"),p="0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4",{account:u,library:y}=Object(U.a)();return Object(Q.jsxs)(me.a,{isOpen:t,onClose:n,children:[Object(Q.jsx)(me.g,{}),Object(Q.jsxs)(me.d,{children:[Object(Q.jsx)(me.f,{children:"List NFT for Sale"}),Object(Q.jsx)(me.c,{}),Object(Q.jsxs)(me.b,{children:[Object(Q.jsxs)(je.a,{children:[Object(Q.jsx)(je.b,{children:"Price in ETH"}),Object(Q.jsx)(he.a,{type:"text",value:r,onChange:e=>c(e.target.value),placeholder:"Enter price in ETH"})]}),Object(Q.jsxs)(je.a,{mt:4,children:[Object(Q.jsx)(je.b,{children:"Duration"}),Object(Q.jsxs)(Oe.a,{value:o,onChange:e=>l(e.target.value),children:[Object(Q.jsx)("option",{value:"24h",children:"24 hours"}),Object(Q.jsx)("option",{value:"7d",children:"7 days"}),Object(Q.jsx)("option",{value:"1m",children:"1 month"}),Object(Q.jsx)("option",{value:"3m",children:"3 months"}),Object(Q.jsx)("option",{value:"6m",children:"6 months"})]})]})]}),Object(Q.jsxs)(me.e,{children:[Object(Q.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:async()=>{if(console.log("Attempting to list NFT with:",{contractAddress:a,tokenId:s,price:r}),!r||!o)return void alert("Please fill in all fields and ensure you have a valid contract address and token ID.");const e=new d.a.Contract(a,fe,y.getSigner()),t=new d.a.Contract(p,J,y.getSigner()),i=d.a.utils.parseEther(r);let c=Date.now()/1e3;switch(o){case"24h":default:c+=86400;break;case"7d":c+=604800;break;case"1m":c+=2592e3;break;case"3m":c+=7776e3;break;case"6m":c+=15552e3}try{if(!await e.isApprovedForAll(u,p)){const t=await e.setApprovalForAll(p,!0);await t.wait()}const r=await t.listToken(a,s,i,Math.floor(c));await r.wait(),alert("NFT listed successfully!"),n()}catch(l){console.error("Failed to list NFT:",l),alert("Error listing NFT. See console for details.")}},children:"Complete Listing"}),Object(Q.jsx)(m.a,{variant:"ghost",onClick:n,children:"Cancel"})]})]})]})};var ge=e=>{let{isOpen:t,onClose:n,contractAddress:a,tokenId:i}=e;const{library:s}=Object(U.a)();return Object(Q.jsxs)(me.a,{isOpen:t,onClose:n,children:[Object(Q.jsx)(me.g,{}),Object(Q.jsxs)(me.d,{children:[Object(Q.jsx)(me.f,{children:"Delist NFT"}),Object(Q.jsx)(me.c,{}),Object(Q.jsx)(me.b,{children:Object(Q.jsx)(y.h,{children:"Are you sure you want to delist this NFT?"})}),Object(Q.jsxs)(me.e,{children:[Object(Q.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:async()=>{if(s&&a&&i)try{const e=new d.a.Contract("0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4",J,s.getSigner()),t=await e.delistToken(a,i);await t.wait(),alert("NFT delisted successfully!"),n()}catch(e){console.error("Failed to delist NFT:",e),alert("Error delisting NFT. See console for details.")}else alert("Please ensure you have selected a valid NFT to delist.")},children:"Confirm Delist"}),Object(Q.jsx)(m.a,{variant:"ghost",onClick:n,children:"Cancel"})]})]})]})};var Te=e=>{let{isOpen:t,onClose:n,contractAddress:a,tokenId:i}=e;const{library:s}=Object(U.a)();return Object(Q.jsxs)(me.a,{isOpen:t,onClose:n,children:[Object(Q.jsx)(me.g,{}),Object(Q.jsxs)(me.d,{children:[Object(Q.jsx)(me.f,{children:"Cancel Bid"}),Object(Q.jsx)(me.c,{}),Object(Q.jsx)(me.b,{children:Object(Q.jsx)(y.h,{children:"Are you sure you want to cancel your bid on this NFT?"})}),Object(Q.jsxs)(me.e,{children:[Object(Q.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:async()=>{if(s&&a&&i)try{const e=new d.a.Contract("0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4",J,s.getSigner()),t=await e.withdrawBidForToken(a,i);await t.wait(),alert("Bid cancelled successfully!"),n()}catch(e){console.error("Failed to cancel bid:",e),alert("Error cancelling bid. See console for details.")}else alert("Please ensure you have selected a valid NFT to cancel the bid for.")},children:"Confirm Cancel Bid"}),Object(Q.jsx)(m.a,{variant:"ghost",onClick:n,children:"Cancel"})]})]})]})};var ve=()=>{const[e,t]=Object(i.useState)([]),{account:n,library:a}=Object(U.a)(),[s,r]=Object(i.useState)([]),[c,o]=Object(i.useState)([]),[l,p]=Object(i.useState)(!1),[h,O]=Object(i.useState)({}),[f,x]=Object(i.useState)(!1),[g,T]=Object(i.useState)(null),[v,w]=Object(i.useState)(!1),[k,A]=Object(i.useState)(null),{data:I,loading:C,error:S}=Object(N.a)(W,{variables:{seller:null===n||void 0===n?void 0:n.toLowerCase()},skip:!n}),{data:F}=Object(N.a)(z,{variables:{bidder:null===n||void 0===n?void 0:n.toLowerCase()},skip:!n}),{data:E,loading:M,error:L}=Object(N.a)(Y,{variables:{owner:null===n||void 0===n?void 0:n.toLowerCase()},skip:!n});if(Object(i.useEffect)((()=>{console.log("GraphQL Query Data:",I),console.log("GraphQL Query Loading:",C),console.log("GraphQL Query Error:",S)}),[I,C,S]),Object(i.useEffect)((()=>{if(I&&I.listings){(async()=>{const e=await Promise.all(I.listings.map((async e=>{const t=new B(168587773,e.erc721Address,e.tokenId),n=await t.metadata();return n.image=t.image(),{...e,metadata:n,contractAddress:e.erc721Address,tokenId:e.tokenId.toString()}})));o(e)})()}}),[I,a]),Object(i.useEffect)((()=>{if(F&&F.bids){(async()=>{const e=await Promise.all(F.bids.map((async e=>{const t=new B(168587773,e.erc721Address,e.tokenId),n=await t.metadata();return n.image=t.image(),{...e,metadata:n,contractAddress:e.erc721Address,tokenId:e.tokenId.toString()}})));r(e)})()}}),[F,a]),Object(i.useEffect)((()=>{if(E&&!M&&!L){const e=async()=>{try{const e=await Promise.all(E.erc721S.map((async e=>{const t=new B(168587773,e.address,e.tokenId);return{metadata:await t.metadata(),tokenId:e.tokenId.toString(),contractAddress:e.address}})));t(e.filter((e=>!c.some((t=>t.tokenId===e.tokenId&&t.erc721Address.toLowerCase()===e.contractAddress.toLowerCase())))))}catch(S){console.error("Error processing owned NFTs:",S)}};e()}}),[E,M,L,c]),C)return Object(Q.jsx)("p",{children:"Loading..."});if(S)return Object(Q.jsx)("p",{children:"Error :("});const _=e=>{var t,n,a;let{nft:i,price:s,isListing:r,isBid:c}=e;const o=Object(u.o)();return Object(Q.jsxs)(y.a,{borderWidth:"1px",borderRadius:"lg",overflow:"hidden",position:"relative",cursor:"pointer",onClick:()=>{o("/collection/".concat(i.contractAddress,"/").concat(i.tokenId))},children:[Object(Q.jsx)(b.a,{src:(null===(t=i.metadata)||void 0===t?void 0:t.image)||(null===i||void 0===i?void 0:i.image),alt:(null===(n=i.metadata)||void 0===n?void 0:n.name)||(null===i||void 0===i?void 0:i.name)}),Object(Q.jsxs)(y.a,{p:"6",children:[Object(Q.jsx)(y.h,{fontWeight:"semibold",as:"h4",lineHeight:"tight",isTruncated:!0,children:(null===(a=i.metadata)||void 0===a?void 0:a.name)||(null===i||void 0===i?void 0:i.name)}),s&&Object(Q.jsxs)(y.h,{children:["Price: ",d.a.utils.formatEther(s)," ETH"]}),r&&Object(Q.jsx)(m.a,{size:"sm",colorScheme:"red",mt:"2",onClick:e=>{e.stopPropagation(),(e=>{T(e),x(!0)})(i)},children:"Cancel Listing"}),c&&Object(Q.jsx)(m.a,{size:"sm",colorScheme:"orange",mt:"2",onClick:e=>{e.stopPropagation(),(e=>{A(e),w(!0)})(i)},children:"Cancel Bid"}),!r&&!c&&Object(Q.jsx)(m.a,{size:"sm",colorScheme:"teal",mt:"2",onClick:e=>{e.stopPropagation(),(e=>{console.log("Opening modal for NFT with:",e),O(e),p(!0)})(i)},children:"List for Sale"})]})]})};return Object(Q.jsxs)(y.a,{p:5,children:[Object(Q.jsxs)(j.e,{isFitted:!0,variant:"enclosed",children:[Object(Q.jsxs)(j.b,{mb:"1em",children:[Object(Q.jsx)(j.a,{children:"Assets"}),Object(Q.jsx)(j.a,{children:"Listings"}),Object(Q.jsx)(j.a,{children:"Bids"})]}),Object(Q.jsxs)(j.d,{children:[Object(Q.jsx)(j.c,{children:Object(Q.jsx)(y.a,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:e.map(((e,t)=>Object(Q.jsx)(_,{nft:e},t)))})}),Object(Q.jsx)(j.c,{children:Object(Q.jsxs)(y.a,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:[c.map(((e,t)=>e.contractAddress&&e.tokenId?Object(Q.jsx)(_,{nft:e,price:e.price,isListing:!0,isBid:!1},t):(console.error("Listing missing critical navigation data:",e),null))),Object(Q.jsx)(xe,{isOpen:l,onClose:()=>p(!1),contractAddress:h.contractAddress,tokenId:h.tokenId})]})}),Object(Q.jsxs)(j.c,{children:[Object(Q.jsx)(y.a,{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:6,children:s.map(((e,t)=>e.contractAddress&&e.tokenId?Object(Q.jsx)(_,{nft:e,price:e.value,isListing:!1,isBid:!0},t):(console.error("Bid missing critical navigation data:",e),null)))}),Object(Q.jsx)(Te,{isOpen:v,onClose:()=>w(!1),contractAddress:null===k||void 0===k?void 0:k.contractAddress,tokenId:null===k||void 0===k?void 0:k.tokenId})]})]})]}),Object(Q.jsx)(ge,{isOpen:f,onClose:()=>x(!1),contractAddress:null===g||void 0===g?void 0:g.contractAddress,tokenId:null===g||void 0===g?void 0:g.tokenId})]})},we=n(22),ke=n(66),Ae=n(123);const Ie=e=>{const{toggleColorMode:t}=Object(a.d)(),n=Object(a.e)("dark","light"),i=Object(a.e)(Ae.a,Ae.b);return Object(Q.jsx)(m.b,{size:"md",fontSize:"lg","aria-label":"Switch to ".concat(n," mode"),variant:"ghost",color:"current",onClick:t,icon:Object(Q.jsx)(i,{}),...e})};var Ce=n.p+"static/media/logo.034ef726.svg";const Se=e=>Object(Q.jsx)(b.a,{src:Ce,...e});var Fe=n(94);const Ee=[{label:"Explorer",href:"#"},{label:"Wallet",href:"/wallet"}];function Me(e){let{navItem:t}=e;return Object(Q.jsx)(y.f,{href:t.href,fontSize:"sm",fontWeight:700,color:Object(a.e)("gray.600","gray.200"),_hover:{textDecoration:"none",color:Object(a.e)("gray.800","white")},children:t.label})}function Le(e){let{navItem:t}=e;return Object(Q.jsx)(y.b,{px:4,py:4,as:y.f,href:t.href,justify:"space-between",borderStyle:"solid",borderTop:"1px",borderColor:Object(a.e)("gray.200","gray.900"),align:"center",_hover:{textDecoration:"none"},children:Object(Q.jsx)(y.h,{fontWeight:700,color:Object(a.e)("gray.600","gray.200"),children:t.label})})}var Be=function(){const{isOpen:e,onToggle:t}=Object(we.d)(),[n,s]=Object(i.useState)(""),{connect:r,active:c,account:o,chainId:l}=Object(U.a)(),d=Object(u.o)(),p=()=>{d("/collection/".concat(n.toLowerCase()))};return Object(Q.jsxs)(y.a,{children:[Object(Q.jsxs)(y.b,{h:"78px",px:{base:4},color:Object(a.e)("gray.600","white"),bg:Object(a.e)("white","gray.800"),borderStyle:"solid",borderBottom:"1px",borderColor:Object(a.e)("gray.200","gray.900"),align:"center",children:[Object(Q.jsx)(y.a,{children:Object(Q.jsx)(Se,{w:"40px",pointerEvents:"none"})}),Object(Q.jsx)(y.a,{pl:"5",flex:"1",children:Object(Q.jsxs)(he.b,{display:{base:"none",md:"flex"},children:[Object(Q.jsx)(he.c,{children:Object(Q.jsx)(Fe.c,{color:"gray.300"})}),Object(Q.jsx)(he.a,{borderRadius:"3xl",placeholder:"Search by collection address",size:"md",value:n,onChange:e=>{s(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&p()}}),Object(Q.jsx)(m.a,{onClick:p,ml:2,children:"Search"})," "]})}),Object(Q.jsxs)(y.a,{pl:"5",display:{base:"none",md:"flex"},children:[Object(Q.jsx)(y.g,{pl:"5",direction:"row",align:"center",spacing:6,children:Ee.map(((e,t)=>Object(Q.jsx)(Me,{navItem:e},t)))}),Object(Q.jsxs)(y.g,{pl:"7",direction:"row",align:"center",spacing:3,children:[Object(Q.jsx)(m.a,{variant:"outline",colorScheme:"teal",size:"md",onClick:c?void 0:r,children:c?"Wallet: ".concat((b=o,"".concat(b.substring(0,5),"...").concat(b.substring(b.length-3)))):l?"Chain not supported":"Connect Wallet"}),Object(Q.jsx)(Ie,{justifySelf:"flex-end"})]})]}),Object(Q.jsxs)(y.g,{direction:"row",display:{base:"flex",md:"none"},children:[Object(Q.jsx)(m.b,{icon:Object(Q.jsx)(Fe.c,{}),variant:"outline","aria-label":"Toggle Navigation"}),Object(Q.jsx)(m.b,{onClick:t,icon:e?Object(Q.jsx)(Fe.a,{w:3,h:3}):Object(Q.jsx)(Fe.b,{w:5,h:5}),variant:"outline","aria-label":"Toggle Navigation"})]})]}),Object(Q.jsxs)(ke.a,{in:e,animateOpacity:!0,children:[Object(Q.jsxs)(y.g,{px:4,py:4,direction:"row",align:"center",spacing:3,children:[Object(Q.jsx)(m.a,{flex:1,variant:"outline",colorScheme:"teal",size:"md",onClick:c?void 0:r,children:c?"Wallet: ".concat(o):l?"Chain not supported":"Connect Wallet"}),Object(Q.jsx)(Ie,{justifySelf:"flex-end"})]}),Object(Q.jsx)(y.a,{borderStyle:"solid",borderBottom:"1px",borderColor:Object(a.e)("gray.200","gray.900"),children:Ee.map(((e,t)=>Object(Q.jsx)(Le,{navItem:e},t)))})]})]});var b},Ne=n(142),_e=n(122);var De=e=>{let{isOpen:t,onClose:n,erc721Address:a,tokenId:s}=e;const{account:r,library:c}=Object(U.a)(),o="0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4",l="0x4200000000000000000000000000000000000023",[p,u]=Object(i.useState)(""),[y,b]=Object(i.useState)("24h"),[j,h]=Object(i.useState)(!1),O=Object(Ne.a)();Object(i.useEffect)((()=>{(async()=>{if(!r||!c)return;const e=c.getSigner(r),t=new d.a.Contract(l,_e,e),n=await t.allowance(r,o);h(n.gt(d.a.utils.parseEther(p||"0")))})()}),[r,c,p,l,o]);return Object(Q.jsxs)(me.a,{isOpen:t,onClose:n,children:[Object(Q.jsx)(me.g,{}),Object(Q.jsxs)(me.d,{children:[Object(Q.jsx)(me.f,{children:"Make an Offer"}),Object(Q.jsx)(me.c,{}),Object(Q.jsxs)(me.b,{children:[Object(Q.jsxs)(je.a,{children:[Object(Q.jsx)(je.b,{children:"Amount in WETH"}),Object(Q.jsx)(he.a,{value:p,onChange:e=>u(e.target.value),placeholder:"Enter amount in WETH"})]}),Object(Q.jsxs)(je.a,{mt:4,children:[Object(Q.jsx)(je.b,{children:"Duration"}),Object(Q.jsxs)(Oe.a,{value:y,onChange:e=>b(e.target.value),children:[Object(Q.jsx)("option",{value:"24h",children:"24 hours"}),Object(Q.jsx)("option",{value:"7d",children:"7 days"}),Object(Q.jsx)("option",{value:"1m",children:"1 month"}),Object(Q.jsx)("option",{value:"3m",children:"3 months"}),Object(Q.jsx)("option",{value:"6m",children:"6 months"})]})]})]}),Object(Q.jsxs)(me.e,{children:[!j&&Object(Q.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:async()=>{try{const e=c.getSigner(r),t=new d.a.Contract(l,_e,e),n=await t.approve(o,d.a.utils.parseEther(p));await n.wait(),h(!0),O({title:"Approval successful",description:"You can now make an offer.",status:"success",duration:5e3,isClosable:!0})}catch(e){console.error("Approval failed:",e),O({title:"Approval failed",description:"See console for more details.",status:"error",duration:5e3,isClosable:!0})}},children:"Approve"}),Object(Q.jsx)(m.a,{colorScheme:"green",onClick:async()=>{if(j)try{const e=c.getSigner(r),t=new d.a.Contract(o,J,e),i=(()=>{let e;switch(y){case"24h":default:e=86400;break;case"7d":e=604800;break;case"1m":e=2592e3;break;case"3m":e=7776e3;break;case"6m":e=15552e3}return Math.floor(Date.now()/1e3)+e})(),l=await t.enterBidForToken(a,s,d.a.utils.parseEther(p),i);await l.wait(),n(),O({title:"Offer submitted successfully",description:"Your offer has been placed.",status:"success",duration:5e3,isClosable:!0})}catch(e){console.error("Offer submission failed:",e),O({title:"Offer failed",description:"See console for more details.",status:"error",duration:5e3,isClosable:!0})}else O({title:"Not approved",description:"Please approve before making an offer.",status:"warning",duration:5e3,isClosable:!0})},children:"Confirm Offer"})]})]})]})};var Re=e=>{let{isOpen:t,onClose:n,erc721Address:a,tokenId:s,bidder:r,value:c}=e;const{account:o,library:l}=Object(U.a)(),p=Object(Ne.a)(),[u,y]=Object(i.useState)(!1),b="0x308b43D015Ac2bf158e7DfFe08a1630A371c81E4";Object(i.useEffect)((()=>{(async()=>{if(l&&a&&s)try{const e=new d.a.Contract(a,fe,l),t=await e.ownerOf(s);console.log("Owner of NFT (Token ID: ".concat(s,"):"),t)}catch(e){console.error("Error fetching NFT owner:",e)}})()}),[l,a,s]),Object(i.useEffect)((()=>{(async()=>{if(!o||!l||!a)return;const e=new d.a.Contract(a,fe,l.getSigner()),t=await e.isApprovedForAll(o,b);y(t)})()}),[o,l,a,b]);return Object(Q.jsxs)(me.a,{isOpen:t,onClose:n,children:[Object(Q.jsx)(me.g,{}),Object(Q.jsxs)(me.d,{children:[Object(Q.jsx)(me.f,{children:"Accept Offer"}),Object(Q.jsx)(me.c,{}),Object(Q.jsx)(me.b,{children:"Are you sure you want to accept this offer?"}),Object(Q.jsxs)(me.e,{children:[!u&&Object(Q.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:async()=>{const e=new d.a.Contract(a,fe,l.getSigner());try{const t=await e.setApprovalForAll(b,!0);await t.wait(),y(!0),p({title:"Approval successful",description:"The contract is now approved to transfer your NFT.",status:"success",duration:5e3,isClosable:!0})}catch(t){p({title:"Approval failed",description:"Error: ".concat(t.message),status:"error",duration:5e3,isClosable:!0})}},children:"Approve Contract"}),Object(Q.jsx)(m.a,{colorScheme:"green",onClick:async()=>{if(!u)return void p({title:"Not approved",description:"Please approve the contract to transfer your NFT.",status:"warning",duration:5e3,isClosable:!0});const e=new d.a.Contract(b,J,l.getSigner());try{console.log("Accepting offer with parameters:",{erc721Address:a,tokenId:s,bidder:r,value:d.a.utils.formatUnits(c,"wei")});const t=await e.acceptBidForToken(a,s,r,d.a.utils.parseUnits(c.toString(),"wei"));await t.wait(),n(),p({title:"Offer accepted successfully",description:"The NFT has been successfully transferred to the bidder.",status:"success",duration:5e3,isClosable:!0})}catch(t){p({title:"Accept offer failed",description:"Error: ".concat(t.message),status:"error",duration:5e3,isClosable:!0})}},isDisabled:!u,children:"Accept Offer"})]})]})]})};var Pe=()=>{var e;let{contractAddress:t,tokenId:n}=Object(u.q)();t=t.toLowerCase();const{active:a,account:s}=Object(U.a)(),[r,c]=Object(i.useState)({}),[o,l]=Object(i.useState)(!1),[p,j]=Object(i.useState)(!1),[h,O]=Object(i.useState)(!1),{isOpen:f,onOpen:x,onClose:g}=Object(we.d)(),{isOpen:T,onToggle:v}=Object(we.d)(),[w,k]=Object(i.useState)(null),{isOpen:A,onOpen:I,onClose:C}=Object(we.d)(),{isOpen:S,onToggle:F}=Object(we.d)(),{data:E}=Object(N.a)(P,{variables:{erc721Address:t,tokenId:n}}),{data:M}=Object(N.a)($,{variables:{erc721Address:t,tokenId:n}}),{data:L}=Object(N.a)(H,{variables:{erc721Address:t,tokenId:n}}),_=e=>{const t=new Date(1e3*e);return t.toLocaleDateString("en-US")+" "+t.toLocaleTimeString("en-US")},D=e=>"".concat(e.slice(0,5),"...").concat(e.slice(-3)),R=e=>{const t=new Date(1e3*e)-new Date,n=Math.floor(t/864e5),a=Math.floor(t/36e5%24),i=Math.floor(t/1e3/60%60);return n>0?"".concat(n," days"):a>0?"".concat(a," hours"):i>0?"".concat(i," minutes"):"Expired"};return Object(i.useEffect)((()=>{E&&E.listings&&E.listings.length>0?(l(!0),j(s&&E.listings[0].seller.toLowerCase()===s.toLowerCase())):(l(!1),j(!1))}),[E,s]),Object(i.useEffect)((()=>{(async()=>{if(t&&n)try{const e=new B(168587773,t,n),i=await e.metadata(),r=o&&E.listings[0]?d.a.utils.formatUnits(E.listings[0].price,"ether"):null;let l=null;a&&(l=await e.owner(),O(s&&l.toLowerCase()===s.toLowerCase())),c({...i,owner:l,image:e.image(),price:r}),console.log(e.image())}catch(e){console.error("Failed to fetch NFT details",e)}})()}),[t,n,E,o,a,s]),Object(Q.jsxs)(y.i,{spacing:4,p:10,align:"stretch",children:[Object(Q.jsx)(y.a,{children:Object(Q.jsxs)(y.c,{spacing:8,templateAreas:'"nft traits"',gridTemplateColumns:"400px 1fr",children:[Object(Q.jsxs)(y.d,{p:4,children:[Object(Q.jsx)(b.a,{src:r.image,alt:r.name,borderRadius:"5px",objectFit:"cover"}),Object(Q.jsx)(y.h,{fontSize:"2xl",fontWeight:"bold",children:r.name}),r&&null!=r.owner?Object(Q.jsxs)(y.h,{fontSize:"sm",children:["Owned by: ",r.owner.substring(0,6),"...",r.owner.substring(38)]}):"",Object(Q.jsx)(y.h,{fontSize:"lg",children:r.description}),a&&r.price&&o&&!p&&Object(Q.jsx)(X,{erc721Address:t,tokenId:n,price:d.a.utils.parseUnits(r.price,"ether")}),a&&!h&&(!o||!p)&&Object(Q.jsx)(m.a,{colorScheme:"blue",mt:"4",onClick:x,children:"Make Offer"}),Object(Q.jsx)(De,{isOpen:f,onClose:g,erc721Address:t,tokenId:n})]}),Object(Q.jsx)(y.d,{p:4,children:Object(Q.jsx)(y.c,{templateColumns:"repeat(3, 1fr)",gap:4,children:null===(e=r.attributes)||void 0===e?void 0:e.map(((e,t)=>Object(Q.jsxs)(y.a,{p:"5",shadow:"md",borderWidth:"1px",children:[Object(Q.jsx)(y.h,{fontWeight:"bold",children:e.trait_type}),Object(Q.jsx)(y.h,{children:e.value})]},t)))})})]})}),Object(Q.jsxs)(y.i,{align:"stretch",children:[Object(Q.jsxs)(m.a,{onClick:v,children:[T?"Hide Offers/Bids":"Show Offers/Bids"," (",M?null===M||void 0===M?void 0:M.bids.length:"",")"]}),Object(Q.jsx)(ke.a,{in:T,animateOpacity:!0,children:Object(Q.jsx)(y.i,{spacing:4,children:null===M||void 0===M?void 0:M.bids.map(((e,t)=>Object(Q.jsxs)(y.a,{p:4,shadow:"md",borderWidth:"1px",children:[Object(Q.jsxs)(y.h,{children:["Price: ",d.a.utils.formatEther(e.value)," ETH"]}),Object(Q.jsxs)(y.h,{children:["Expires: ",R(e.expireTimestamp)]}),Object(Q.jsxs)(y.h,{children:["Bidder: ",D(e.bidder)]}),h&&Object(Q.jsx)(m.a,{size:"sm",colorScheme:"blue",onClick:()=>(e=>{k(e),I()})(e),children:"Accept Offer"})]},t)))})}),w&&h&&Object(Q.jsx)(Re,{isOpen:A,onClose:C,erc721Address:w.erc721Address,tokenId:n,bidder:w.bidder,value:w.value}),Object(Q.jsxs)(m.a,{onClick:F,children:[S?"Hide History/Sales":"Show History/Sales "," (",L?L.sales.length:"",")"]}),Object(Q.jsx)(ke.a,{in:S,animateOpacity:!0,children:L&&L.sales.length>0?Object(Q.jsx)(y.i,{spacing:4,align:"stretch",children:L.sales.map(((e,t)=>Object(Q.jsxs)(y.a,{p:4,shadow:"md",borderWidth:"1px",children:[Object(Q.jsxs)(y.h,{fontWeight:"bold",children:["Price: ",d.a.utils.formatEther(e.price)," ETH"]}),Object(Q.jsxs)(y.h,{children:["Seller: ",D(e.seller)]}),Object(Q.jsxs)(y.h,{children:["Buyer: ",D(e.buyer)]}),Object(Q.jsxs)(y.h,{children:["Sold on: ",_(e.timestamp)]}),Object(Q.jsx)(y.f,{href:"https://testnet.blastscan.io/tx/".concat(e.id.split("-")[0]),isExternal:!0,children:"View Transaction"})]},t)))}):Object(Q.jsx)(y.h,{children:"No sales"})})]})]})};var We=()=>{var e;let{contractAddress:t}=Object(u.q)();t=t.toLowerCase();const[n,a]=Object(i.useState)(""),[s,r]=Object(i.useState)([]),c=Object(u.o)(),{data:o}=Object(N.a)(V,{variables:{id:t}});console.log("Collection Stats Data:",o);const{data:l}=Object(N.a)(R,{variables:{erc721Address:t}});console.log("Listings Data:",l);const{data:p}=Object(N.a)(K,{variables:{id:t}});Object(i.useEffect)((()=>{if(p&&p.collection){const e=p.collection.name;e&&(console.log("Collection Name:",e),a(e)),console.log("Collection Data:",p)}}),[p]),Object(i.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);if(l&&l.listings){console.log("Processing listings data...");(async()=>{const n=await Promise.all(l.listings.filter((t=>parseInt(t.expireTimestamp)>e)).map((async e=>{try{const n=new B(168587773,t,e.tokenId),a=await n.metadata();return{...e,image:n.image(),name:a.name}}catch(n){return console.error("Error fetching token URI for listing:",e,n),null}})));console.log("Updated Listings with Metadata:",n),r(n.filter((e=>null!==e)))})()}}),[l,t]);return Object(Q.jsx)(y.a,{p:5,children:Object(Q.jsxs)(y.i,{spacing:8,align:"stretch",children:[Object(Q.jsxs)(y.b,{justifyContent:"space-between",alignItems:"center",children:[Object(Q.jsx)(y.h,{fontSize:"2xl",fontWeight:"bold",children:n}),Object(Q.jsxs)(y.a,{textAlign:"right",children:[Object(Q.jsxs)(y.h,{fontSize:"2xl",fontWeight:"bold",children:[d.a.utils.formatEther((null===o||void 0===o||null===(e=o.collectionStats[0])||void 0===e?void 0:e.totalVolumeTraded)||"0")," ETH"]}),Object(Q.jsx)(y.h,{fontSize:"lg",color:"gray.600",children:"Total Volume"})]})]}),Object(Q.jsxs)(j.e,{isFitted:!0,variant:"enclosed",children:[Object(Q.jsx)(j.b,{mb:"1em",children:Object(Q.jsx)(j.a,{children:"Listings"})}),Object(Q.jsxs)(j.d,{children:[Object(Q.jsx)(j.c,{children:Object(Q.jsx)(y.c,{templateColumns:"repeat(5, 1fr)",gap:6,children:s.map(((e,n)=>Object(Q.jsxs)(y.a,{p:6,shadow:"md",borderWidth:"1px",cursor:"pointer",onClick:()=>{return n=e.tokenId,void c("/collection/".concat(t,"/").concat(n));var n},children:[Object(Q.jsx)(b.a,{src:e.image,alt:e.name,boxSize:"150px",objectFit:"cover"}),Object(Q.jsx)(y.h,{mt:2,children:e.name}),Object(Q.jsxs)(y.h,{children:["Price: ",d.a.utils.formatEther(e.price)," ETH"]}),Object(Q.jsx)("div",{onClick:e=>e.stopPropagation(),children:Object(Q.jsx)(X,{erc721Address:t,tokenId:e.tokenId,price:e.price})})]},n)))})}),Object(Q.jsx)(j.c,{children:Object(Q.jsx)(y.h,{children:"sort by price (highest to lowest, lowest to highest), ending soon ( base on expireTimestamp listing.expireTimestamp )before here..."})})]})]})]})})},ze=n(230),$e=n(232),He=n(234);var Ve=new $e.a({uri:"https://api.studio.thegraph.com/query/65229/nftindex/version/latest",cache:new He.a});function Ye(e){return new d.a.providers.Web3Provider(e)}var Ke=function(){return Object(Q.jsx)(ze.a,{client:Ve,children:Object(Q.jsx)(c.a,{theme:o.c,children:Object(Q.jsx)(l.a,{getLibrary:Ye,children:Object(Q.jsxs)(p.a,{children:[Object(Q.jsx)(Be,{}),Object(Q.jsxs)(u.c,{children:[Object(Q.jsx)(u.a,{path:"/",element:Object(Q.jsx)(be,{})}),Object(Q.jsx)(u.a,{path:"/wallet",element:Object(Q.jsx)(ve,{})}),Object(Q.jsx)(u.a,{path:"/collection/:contractAddress",element:Object(Q.jsx)(We,{})}),Object(Q.jsx)(u.a,{path:"/collection/:contractAddress/:tokenId",element:Object(Q.jsx)(Pe,{})})]})]})})})})};var qe=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,237)).then((t=>{let{getCLS:n,getFID:a,getFCP:i,getLCP:s,getTTFB:r}=t;n(e),a(e),i(e),s(e),r(e)}))},Ge=n(156);r.a.render(Object(Q.jsxs)(i.StrictMode,{children:[Object(Q.jsx)(a.c,{}),Object(Q.jsx)(Ke,{})]}),document.getElementById("root")),Ge.a(),qe()},27:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(0),i=n(101),s=n(157),r=n(15);const c=new s.a({supportedChainIds:[1,3,4,5,42,168587773]});function o(){const{activate:t,deactivate:n,active:s,account:o,library:l,chainId:d}=Object(i.b)();return Object(a.useEffect)((()=>{c.isAuthorized().then((e=>{e&&t(c)}))}),[t]),{connect:async()=>{try{await t(c)}catch(e){console.log(e)}},disconnect:async()=>{try{n()}catch(e){console.log(e)}},active:s,account:o,library:l,chainId:d,defaultProvider:async()=>{if(e)return new r.a.providers.JsonRpcProvider("https://sepolia.blast.io")}}}}).call(this,n(98))},39:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_paymentTokenAddress","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"address","name":"recipient","type":"address"},{"indexed":false,"internalType":"uint256","name":"feeFraction","type":"uint256"}],"name":"SetRoyalty","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"seller","type":"address"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Bid","name":"bid","type":"tuple"},{"indexed":false,"internalType":"uint256","name":"serviceFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"royaltyFee","type":"uint256"}],"name":"TokenBidAccepted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Bid","name":"bid","type":"tuple"}],"name":"TokenBidEntered","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Bid","name":"bid","type":"tuple"}],"name":"TokenBidWithdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":true,"internalType":"address","name":"buyer","type":"address"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Listing","name":"listing","type":"tuple"},{"indexed":false,"internalType":"uint256","name":"serviceFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"royaltyFee","type":"uint256"}],"name":"TokenBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Listing","name":"listing","type":"tuple"}],"name":"TokenDelisted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"erc721Address","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"},{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"indexed":false,"internalType":"struct INFTKEYMarketplaceV2.Listing","name":"listing","type":"tuple"}],"name":"TokenListed","type":"event"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"acceptBidForToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"actionTimeOutRangeMax","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"actionTimeOutRangeMin","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"buyToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bool","name":"enabled","type":"bool"}],"name":"changeMarketplaceStatus","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"timeInSec","type":"uint256"}],"name":"changeMaxActionTimeLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"timeInSec","type":"uint256"}],"name":"changeMinActionTimeLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint8","name":"serviceFeeFraction_","type":"uint8"}],"name":"changeSeriveFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"defaultRoyaltyFraction","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"delistToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"name":"enterBidForToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getBidderBids","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Bid[]","name":"bidderBids","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"}],"name":"getBidderTokenBid","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Bid","name":"validBid","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getTokenBids","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Bid[]","name":"bids","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getTokenHighestBid","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Bid","name":"highestBid","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getTokenHighestBids","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"bidder","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Bid[]","name":"highestBids","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getTokenListing","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Listing","name":"validListing","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"from","type":"uint256"},{"internalType":"uint256","name":"size","type":"uint256"}],"name":"getTokenListings","outputs":[{"components":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"address","name":"seller","type":"address"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"internalType":"struct INFTKEYMarketplaceV2.Listing[]","name":"listings","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"isTradingEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"uint256","name":"expireTimestamp","type":"uint256"}],"name":"listToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"}],"name":"numTokenListings","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"}],"name":"numTokenWithBids","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"paymentToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"}],"name":"royalty","outputs":[{"components":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"feeFraction","type":"uint256"},{"internalType":"address","name":"setBy","type":"address"}],"internalType":"struct INFTKEYMarketplaceRoyalty.ERC721CollectionRoyalty","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"royaltyUpperLimit","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"serviceFee","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"address","name":"newRecipient","type":"address"},{"internalType":"uint256","name":"feeFraction","type":"uint256"}],"name":"setRoyalty","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"address","name":"newRecipient","type":"address"},{"internalType":"uint256","name":"feeFraction","type":"uint256"}],"name":"setRoyaltyForCollection","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_newUpperLimit","type":"uint256"}],"name":"updateRoyaltyUpperLimit","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"erc721Address","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"withdrawBidForToken","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},83:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"_name","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"name":"_operator","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"approve","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"name":"_tokenId","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"exists","outputs":[{"name":"_exists","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"name":"_owner","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"_balance","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"_symbol","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_operator","type":"address"},{"name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_tokenId","type":"uint256"},{"name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_approved","type":"address"},{"indexed":false,"name":"_tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_operator","type":"address"},{"indexed":false,"name":"_approved","type":"bool"}],"name":"ApprovalForAll","type":"event"}]')}},[[214,1,2]]]);
//# sourceMappingURL=main.4c2a0e4e.chunk.js.map